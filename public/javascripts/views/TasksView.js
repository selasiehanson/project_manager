// Generated by CoffeeScript 1.3.3
(function() {

  (function(views, models, _project) {
    views.TasksView = Backbone.View.extend({
      template: _.template($('#tasks-tmpl').text()),
      statsTemplate: _.template($("#task-stats-tmpl").text()),
      initialize: function() {
        this.collection.on('add', this.addOne, this);
        this.collection.on('reset', this.reset, this);
      },
      onClose: function() {
        console.log("closing tasks view");
        this.collection.off("add", this.addOne);
        this.collection.off("reset", this.reset);
      },
      addOne: function(task) {
        var el, st;
        st = new views.SingleTaskView({
          model: task
        });
        el = $("#tasks_view  tbody");
        el.prepend(st.render().el);
      },
      addAll: function() {
        return this.collection.each(this.addOne);
      },
      reset: function() {
        var el;
        el = $("#tasks_view  tbody").empty();
        this.$el.empty();
        return this.collection.each(this.addOne);
      },
      renderTasks: function() {
        return this.collection.each(this.addOne);
      },
      render: function() {
        var html, self;
        self = this;
        $(this.el).empty();
        html = this.template({});
        $(this.el).html(html);
        return this;
      }
    });
  })(app.views, app.models, app.project);

}).call(this);
