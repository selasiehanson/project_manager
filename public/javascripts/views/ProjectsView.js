// Generated by CoffeeScript 1.3.3
(function() {

  (function(views, _project) {
    views.ProjectsView = Backbone.View.extend({
      el: "#projects_view  tbody",
      template: _.template($('#projects-tmpl').text()),
      addOne: function(project) {
        var el, sp;
        sp = new views.SingleProjectView({
          model: project
        });
        el = $("#projects_view  tbody");
        el.prepend(sp.render().el);
      },
      initialize: function() {
        this.collection.on('add', this.addOne, this);
        this.collection.on('reset', this.reset, this);
      },
      onClose: function() {
        this.collection.off('add', this.addOne);
        this.collection.off('reset', this.reset);
      },
      reset: function() {
        console.log("xxx");
        this.$el.empty();
        return this.collection.each(this.addOne);
      },
      render: function() {
        var html, self;
        self = this;
        $(self.el).empty();
        html = this.template({});
        $(self.el).html(html);
        return this.collection.each(this.addOne);
      }
    });
  })(app.views, app.project);

}).call(this);
